#summary Real-valued Normal Form

== Real-valued Normal Form ==

Moving from Boolean normal form to a normal form for real-valued expressions is
fairly straightforward. Analogous to alternating levels of _AND_ s and _OR_ s,
there should be alternating levels of weighted linear sums and nonlinear
functions (see Figure, taken from the paper 'Canonical Form Functions as a Simple Means for Genetic Programming to Evolve Human-Interpretable Functions' by McConaghy and Gielen, which is useful background). A possible function set to use here would be `+, *, /, log, exp, sin`. Addition and multiplication may have any `arity >= 2`, division must have arity ,,2,, , natural logarithm, exponentiation ( e^2^), and sine all have arity one. Note that subtraction may be simulated by
multiplication by ,,-1,, and addition.

A normal form for representing real-valued expressions:

http://moses.googlecode.com/files/real.png

Real-valued normal form should have at least the following identities, where _x, y_ , etc. may be arbitrary expressions, and _c, c,,1,, , c,,2,,_ etc.  are numeric constants:

http://moses.googlecode.com/files/real_01.png

There are many rules that emerge implicitly by iteratively applying these
(e.g., _x-x = 0_ may be derived from _c,,1,, `*` x + c,,2,, `*` x --> ( c,,1,, +c,,2,, ) `*` x followed by partial evaluation, followed by _0 `*` x --> 0_ Furthermore, the rules should be implemented to function effectively with addition and multiplication taking
more than two arguments, to exploit the commutativity of these operations, and
to know that _x_ is the same as _1 `*` x_.  Similarly partial evaluation needs to
know how to extract subexpressions such as _(6`*`x)/(2`*`y) --> (3`*`x)/y_. Here are
some more examples:

  * using `log(exp(x)*y) --> x+log(y)` in deriving `log(42*exp(x)*y) --> 3.738+log(x)+y`
  * using `x*y+x*z --> x*(y+z)` in deriving `y*x + x --> x*(y+1)`
  * using `(x*y)/(x*z) --> y/z` in deriving `x/x --> 1`.

The system should also be _easily extensible_ ; for example, adding general exponentiation and the associated rules, if desired, should be fairly easy.



-- Moshe Looks